var calculationCache = {},
    calculationCallbacks = {},
    mathWorker = new Worker('calculator.js');

mathWorker.addEventListener('message', function(e) {
var message = e.date;
calculationCache[message.formula] = message.result;
calculationCallbacks[message.formula](message.result);
});
